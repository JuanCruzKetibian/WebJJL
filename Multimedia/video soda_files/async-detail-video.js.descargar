(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{219:function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(0),i=l(r),a=l(n(6)),u=n(3),c=l(n(343));function l(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=y(e);if(t){var r=y(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(616);var h,b,m,g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(a,e);var t,n,o,r=p(a);function a(){return f(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.product,n=e.i18n,o=t.video;if(!o)return null;var r=o.videoId,a=o.cover;return i.default.createElement("div",{className:"widget-detail-video","data-role":"widget-detail-overview-video"},i.default.createElement("div",{className:"widget-detail-video__title"},(0,u.getText)(n,"productQuickDetail_video","Video Description")),i.default.createElement("div",{className:"widget-detail-video__video-wrap"},i.default.createElement(c.default,{videoId:r,logOptions:{scene:"detailVideo"},viewAutoplay:!0,width:600,height:470,videoOptions:{poster:a}})))}}])&&s(t.prototype,n),o&&s(t,o),a}(r.PureComponent);h=g,b="propTypes",m={product:a.default.object,i18n:a.default.object},b in h?Object.defineProperty(h,b,{value:m,enumerable:!0,configurable:!0,writable:!0}):h[b]=m,t.default=g},343:function(e,t,n){"use strict";e.exports=n(344)},344:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=n(0),i=f(r),a=f(n(8)),u=f(n(345)),c=n(25),l=f(c);function f(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}}(e,t))}var y="bc-react-video-player";var h=function(e){function t(){return d(this,t),p(this,e.apply(this,arguments))}return v(t,e),t.prototype.componentDidUpdate=function(e){e.videoId===this.props.videoId&&e.videoUrl===this.props.videoUrl||this.renderVideo()},t.prototype.componentDidMount=function(){this.renderVideo()},t.prototype.componentWillUnmount=function(){this.removeVideo()},t.prototype.renderVideo=function(){var e=this.props;e.beforeRender&&(e=o({},{autoPreload:!0},e,e.beforeRender(this.elment,e)));var t=e,n=(t.className,t.videoHolder,t.videoOptions),r=(t.beforeRender,t.singleton),i=(t.width,t.height,t.autoPreload),a=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(t,["className","videoHolder","videoOptions","beforeRender","singleton","width","height","autoPreload"]);if(this.removeVideo(),this.player=new l.default(o({},a,{container:this.elment}),n),this.setPreLoad(i),r){var u=this.player.elVideo;u.addEventListener("play",(function(){!function(e){for(var t=document.querySelectorAll("."+y+".singleton video"),n=0;n<t.length;n++)t[n]!==e&&t[n].pause()}(u),r.onChange&&r.onChange("play",u)})),r.onChange&&u.addEventListener("ended",(function(){r.onChange("ended",u)}))}},t.prototype.isInView=function(e){var t=e.getBoundingClientRect(),n=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;return t.top<n&&t.bottom>0},t.prototype.preLoadData=function(){this.player.elVideo.preload="metadata"},t.prototype.setPreLoad=function(e){var t=this;if(this.player.elVideo&&"none"===this.player.elVideo.preload&&e){var n=this.elment;if(this.isInView(n))this.preLoadData();else{var o=(0,u.default)((function(){t.isInView(n)&&(t.preLoadData(),window.removeEventListener("scroll",o))}),250);window.addEventListener("scroll",o)}}},t.prototype.removeVideo=function(){this.player&&(this.player.destroy(),this.player=null),this.elment.innerHTML=""},t.prototype.render=function(){var e,t=this,n=this.props,o=n.className,r=n.width,u=void 0===r?"100%":r,l=n.height,f=void 0===l?"100%":l,d=n.videoUrl,p=n.videoId,v=n.quality,h=n.videoOptions,b=n.videoHolder,m=n.singleton,g=(h||{}).poster;return i.default.createElement("div",{className:(0,a.default)((e={},s(e,y,!0),s(e,"singleton",m),s(e,o,o),e)),style:{width:u,height:f},ref:function(e){return t.elment=e}},b&&i.default.createElement("video",{className:"seo-video-placeholder",src:d||(0,c.getVideoUrl)(p,v),poster:g,preload:"none",controls:!1}))},t}(r.PureComponent);t.default=h,e.exports=t.default},345:function(e,t,n){(function(t){var n="Expected a function",o=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,a=/^0o[0-7]+$/i,u=parseInt,c="object"==typeof t&&t&&t.Object===Object&&t,l="object"==typeof self&&self&&self.Object===Object&&self,f=c||l||Function("return this")(),s=Object.prototype.toString,d=Math.max,p=Math.min,v=function(){return f.Date.now()};function y(e,t,o){var r,i,a,u,c,l,f=0,s=!1,y=!1,m=!0;if("function"!=typeof e)throw new TypeError(n);function g(t){var n=r,o=i;return r=i=void 0,f=t,u=e.apply(o,n)}function w(e){return f=e,c=setTimeout(j,t),s?g(e):u}function O(e){var n=e-l;return void 0===l||n>=t||n<0||y&&e-f>=a}function j(){var e=v();if(O(e))return P(e);c=setTimeout(j,function(e){var n=t-(e-l);return y?p(n,a-(e-f)):n}(e))}function P(e){return c=void 0,m&&r?g(e):(r=i=void 0,u)}function _(){var e=v(),n=O(e);if(r=arguments,i=this,l=e,n){if(void 0===c)return w(l);if(y)return c=setTimeout(j,t),g(l)}return void 0===c&&(c=setTimeout(j,t)),u}return t=b(t)||0,h(o)&&(s=!!o.leading,a=(y="maxWait"in o)?d(b(o.maxWait)||0,t):a,m="trailing"in o?!!o.trailing:m),_.cancel=function(){void 0!==c&&clearTimeout(c),f=0,r=l=i=c=void 0},_.flush=function(){return void 0===c?u:P(v())},_}function h(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==s.call(e)}(e))return NaN;if(h(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=h(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var n=i.test(e);return n||a.test(e)?u(e.slice(2),n?2:8):r.test(e)?NaN:+e}e.exports=function(e,t,o){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError(n);return h(o)&&(r="leading"in o?!!o.leading:r,i="trailing"in o?!!o.trailing:i),y(e,t,{leading:r,maxWait:t,trailing:i})}}).call(this,n(20))},616:function(e,t,n){}}]);