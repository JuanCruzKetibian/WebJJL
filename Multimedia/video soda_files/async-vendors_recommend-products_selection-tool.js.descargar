(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{227:function(e,t){function n(){return e.exports=n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,n.apply(this,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},244:function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},257:function(e,t){function n(e,t,n,o,r,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(o,r)}e.exports=function(e){return function(){var t=this,o=arguments;return new Promise((function(r,i){var a=e.apply(t,o);function s(e){n(a,r,i,s,u,"next",e)}function u(e){n(a,r,i,s,u,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},258:function(e,t,n){var o=n(269)();e.exports=o;try{regeneratorRuntime=o}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=o:Function("r","regeneratorRuntime = r")(o)}},269:function(e,t,n){var o=n(244).default;function r(){"use strict";e.exports=r=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,i=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",p=s.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var r=t&&t.prototype instanceof m?t:m,i=Object.create(r.prototype),s=new T(o||[]);return a(i,"_invoke",{value:O(e,n,s)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var h={};function m(){}function v(){}function _(){}var g={};d(g,u,(function(){return this}));var y=Object.getPrototypeOf,w=y&&y(y(N([])));w&&w!==n&&i.call(w,u)&&(g=w);var R=_.prototype=m.prototype=Object.create(g);function x(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(r,a,s,u){var c=f(e[r],e,a);if("throw"!==c.type){var p=c.arg,d=p.value;return d&&"object"==o(d)&&i.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(d).then((function(e){p.value=e,s(p)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var r;a(this,"_invoke",{value:function(e,o){function i(){return new t((function(t,r){n(e,o,t,r)}))}return r=r?r.then(i,i):i()}})}function O(e,t,n){var o="suspendedStart";return function(r,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===r)throw i;return q()}for(n.method=r,n.arg=i;;){var a=n.delegate;if(a){var s=b(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var u=f(e,t,n);if("normal"===u.type){if(o=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o="completed",n.method="throw",n.arg=u.arg)}}}function b(e,t){var n=t.method,o=e.iterator[n];if(void 0===o)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var r=f(o,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,h;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function N(e){if(e){var t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(i.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:q}}function q(){return{value:void 0,done:!0}}return v.prototype=_,a(R,"constructor",{value:_,configurable:!0}),a(_,"constructor",{value:v,configurable:!0}),v.displayName=d(_,p,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,d(e,p,"GeneratorFunction")),e.prototype=Object.create(R),e},t.awrap=function(e){return{__await:e}},x(S.prototype),d(S.prototype,c,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,o,r,i){void 0===i&&(i=Promise);var a=new S(l(e,n,o,r),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},x(R),d(R,p,"Generator"),d(R,u,(function(){return this})),d(R,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=N,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,o){return a.type="throw",a.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o],a=r.completion;if("root"===r.tryLoc)return n("end");if(r.tryLoc<=this.prev){var s=i.call(r,"catchLoc"),u=i.call(r,"finallyLoc");if(s&&u){if(this.prev<r.catchLoc)return n(r.catchLoc,!0);if(this.prev<r.finallyLoc)return n(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return n(r.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return n(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var r=o.arg;A(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:N(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},312:function(e,t){"undefined"==typeof window&&(window={ctrl:{},lib:{}}),!window.ctrl&&(window.ctrl={}),!window.lib&&(window.lib={}),function(e,t){function n(){var e={},t=new l((function(t,n){e.resolve=t,e.reject=n}));return e.promise=t,e}function o(e,t){for(var n in t)void 0===e[n]&&(e[n]=t[n]);return e}function r(e){(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]||document.firstElementChild||document).appendChild(e)}function i(){if(window.etSign)window.__etReady=!0;else{window.etReady=function(){window.__etReady=!0};var e=document.createElement("script");e.id="aplus-sufei",e.src="//g.alicdn.com/secdev/entry/index.js",r(e)}}function a(e){var t=[];for(var n in e)e[n]&&t.push(n+"="+encodeURIComponent(e[n]));return t.join("&")}function s(e){return"[object Object]"=={}.toString.call(e)}function u(e){var t=new RegExp("(?:^|;\\s*)"+e+"\\=([^;]+)(?:;\\s*|$)").exec(document.cookie);return t?t[1]:void 0}function c(e,t,n){var o=new Date;o.setTime(o.getTime()-864e5);document.cookie=e+"=;path=/;domain=."+t+";expires="+o.toGMTString(),document.cookie=e+"=;path=/;domain=."+n+"."+t+";expires="+o.toGMTString()}function p(e,t){for(var n=e.split("."),o=t.split("."),r=0;3>r;r++){var i=Number(n[r]),a=Number(o[r]);if(i>a)return 1;if(a>i)return-1;if(!isNaN(i)&&isNaN(a))return 1;if(isNaN(i)&&!isNaN(a))return-1}return 0}function d(e){this.id=""+(new Date).getTime()+ ++y,this.params=o(e||{},{v:"*",data:{},type:"get",dataType:"jsonp"}),this.params.type=this.params.type.toLowerCase(),"object"==typeof this.params.data&&(this.params.data=JSON.stringify(this.params.data)),this.middlewares=m.slice(0)}var l=e.Promise,f=(l||{resolve:function(){}}).resolve();String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")});var h={useJsonpResultType:!1,safariGoLogin:!0,useAlipayJSBridge:!1},m=[],v={ERROR:-1,SUCCESS:0,TOKEN_EXPIRED:1,SESSION_EXPIRED:2};(function(){var t=e.location.hostname;if(!t){var n=e.parent.location.hostname;n&&~n.indexOf("zebra.alibaba-inc.com")&&(t=n)}var o=new RegExp("([^.]*?)\\.?((?:"+["taobao.net","taobao.com","tmall.com","tmall.hk","alibaba-inc.com"].join(")|(?:").replace(/\./g,"\\.")+"))","i"),r=t.match(o)||[],i=r[2]||"taobao.com",a=r[1]||"m";"taobao.net"!==i||"x"!==a&&"waptest"!==a&&"daily"!==a?"taobao.net"===i&&"demo"===a?a="demo":"alibaba-inc.com"===i&&"zebra"===a?a="zebra":"waptest"!==a&&"wapa"!==a&&"m"!==a&&(a="m"):a="waptest";var s="h5api";"taobao.net"===i&&"waptest"===a&&(s="acs"),h.mainDomain=i,h.subDomain=a,h.prefix=s})(),function(){var t=e.navigator.userAgent,n=t.match(/WindVane[\/\s]([\d\.\_]+)/);n&&(h.WindVaneVersion=n[1]);var o=t.match(/AliApp\(([^\/]+)\/([\d\.\_]+)\)/i);o&&(h.AliAppName=o[1],h.AliAppVersion=o[2]);var r=t.match(/AMapClient\/([\d\.\_]+)/i);r&&(h.AliAppName="AMAP",h.AliAppVersion=r[1])}();var _=/[Android|Adr]/.test(e.navigator.userAgent),g="AP"===h.AliAppName&&p(h.AliAppVersion,"10.1.2")>=0||"KB"===h.AliAppName&&p(h.AliAppVersion,"7.1.62")>=0||_&&"AMAP"===h.AliAppName&&p(h.AliAppVersion,"1.0.1")>=0,y=0;d.prototype.use=function(e){if(!e)throw new Error("middleware is undefined");return this.middlewares.push(e),this},d.prototype.__processRequestMethod=function(e){var t=this.params,n=this.options;"get"===t.type&&"jsonp"===t.dataType?n.getJSONP=!0:"get"===t.type&&"originaljsonp"===t.dataType?n.getOriginalJSONP=!0:"get"===t.type&&"json"===t.dataType?n.getJSON=!0:"post"===t.type&&(n.postJSON=!0),e()},d.prototype.__processRequestType=function(n){var o=this,r=this.params,i=this.options;if(!0===h.H5Request&&(i.H5Request=!0),!0===h.WindVaneRequest&&(i.WindVaneRequest=!0),!1===i.H5Request&&!0===i.WindVaneRequest){if(!g&&(!t.windvane||parseFloat(i.WindVaneVersion)<5.4))throw new Error("WINDVANE_NOT_FOUND::缺少WindVane环境");if(g&&!e.AlipayJSBridge)throw new Error("ALIPAY_NOT_READY::支付宝通道未准备好，支付宝请见 https://lark.alipay.com/mtbsdkdocs/mtopjssdkdocs/pucq6z")}else if(!0===i.H5Request)i.WindVaneRequest=!1;else if(void 0===i.WindVaneRequest&&void 0===i.H5Request){if(t.windvane&&parseFloat(i.WindVaneVersion)>=5.4?i.WindVaneRequest=!0:i.H5Request=!0,g){if(i.WindVaneRequest=i.H5Request=void 0,e.AlipayJSBridge)if(s(r.data))i.WindVaneRequest=!0;else try{s(JSON.parse(r.data))?i.WindVaneRequest=!0:i.H5Request=!0}catch(e){i.H5Request=!0}else i.H5Request=!0;"AMAP"!==h.AliAppName||r.useNebulaJSbridgeWithAMAP||(i.WindVaneRequest=i.H5Request=void 0,i.H5Request=!0)}window.self!==window.top&&(i.H5Request=!0)}var a=e.navigator.userAgent.toLowerCase();return a.indexOf("youku")>-1&&i.mainDomain.indexOf("youku.com")<0&&(i.WindVaneRequest=!1,i.H5Request=!0),i.mainDomain.indexOf("youku.com")>-1&&a.indexOf("youku")<0&&(i.WindVaneRequest=!1,i.H5Request=!0),n?n().then((function(){var e=i.retJson.ret;if(e instanceof Array&&(e=e.join(",")),!0===i.WindVaneRequest&&g&&i.retJson.error||!e||e.indexOf("PARAM_PARSE_ERROR")>-1||e.indexOf("HY_FAILED")>-1||e.indexOf("HY_NO_HANDLER")>-1||e.indexOf("HY_CLOSED")>-1||e.indexOf("HY_EXCEPTION")>-1||e.indexOf("HY_NO_PERMISSION")>-1){if(!g||!isNaN(i.retJson.error)||-1!==i.retJson.error.indexOf("FAIL_SYS_ACCESS_DENIED"))return g&&s(r.data)&&(r.data=JSON.stringify(r.data)),h.H5Request=!0,o.__sequence([o.__processRequestType,o.__processToken,o.__processRequestUrl,o.middlewares,o.__processRequest]);void 0===i.retJson.api&&void 0===i.retJson.v&&(i.retJson.api=r.api,i.retJson.v=r.v,i.retJson.ret=[i.retJson.error+"::"+i.retJson.errorMessage],i.retJson.data={})}})):void 0};var w="_m_h5_c",R="_m_h5_tk";d.prototype.__getTokenFromAlipay=function(){var t=n(),o=this.options,r=(e.navigator.userAgent,!!location.protocol.match(/^https?\:$/));return!0===o.useAlipayJSBridge&&!r&&g&&e.AlipayJSBridge&&e.AlipayJSBridge.call?e.AlipayJSBridge.call("getMtopToken",(function(e){e&&e.token&&(o.token=e.token),t.resolve()}),(function(){t.resolve()})):t.resolve(),t.promise},d.prototype.__getTokenFromCookie=function(){var e=this.options;return e.CDR&&u(w)?e.token=u(w).split(";")[0]:e.token=e.token||u(R),e.token&&(e.token=e.token.split("_")[0]),l.resolve()},d.prototype.__waitWKWebViewCookie=function(t){var n=this.options;n.waitWKWebViewCookieFn&&n.H5Request&&e.webkit&&e.webkit.messageHandlers?n.waitWKWebViewCookieFn(t):t()},d.prototype.__processToken=function(e){var t=this,n=this.options;return this.params,n.token&&delete n.token,!0!==n.WindVaneRequest?f.then((function(){return t.__getTokenFromAlipay()})).then((function(){return t.__getTokenFromCookie()})).then(e).then((function(){var e=n.retJson,o=e.ret;if(o instanceof Array&&(o=o.join(",")),o.indexOf("TOKEN_EMPTY")>-1||(!0===n.CDR||!0===n.syncCookieMode)&&o.indexOf("ILLEGAL_ACCESS")>-1||o.indexOf("TOKEN_EXOIRED")>-1){if(n.maxRetryTimes=n.maxRetryTimes||5,n.failTimes=n.failTimes||0,n.H5Request&&++n.failTimes<n.maxRetryTimes){var r=[t.__waitWKWebViewCookie,t.__processToken,t.__processRequestUrl,t.middlewares,t.__processRequest];if(!0===n.syncCookieMode&&t.constructor.__cookieProcessorId!==t.id)if(t.constructor.__cookieProcessor){r=[function(e){var n=function(){t.constructor.__cookieProcessor=null,t.constructor.__cookieProcessorId=null,e()};t.constructor.__cookieProcessor?t.constructor.__cookieProcessor.then(n).catch(n):e()},t.__waitWKWebViewCookie,t.__processToken,t.__processRequestUrl,t.middlewares,t.__processRequest]}else t.constructor.__cookieProcessor=t.__requestProcessor,t.constructor.__cookieProcessorId=t.id;return t.__sequence(r)}n.maxRetryTimes>0&&(c(w,n.pageDomain,"*"),c(R,n.mainDomain,n.subDomain),c("_m_h5_tk_enc",n.mainDomain,n.subDomain)),e.retType=v.TOKEN_EXPIRED}})):void e()},d.prototype.__processRequestUrl=function(t){var n=this.params,o=this.options;if(o.hostSetting&&o.hostSetting[e.location.hostname]){var r=o.hostSetting[e.location.hostname];r.prefix&&(o.prefix=r.prefix),r.subDomain&&(o.subDomain=r.subDomain),r.mainDomain&&(o.mainDomain=r.mainDomain)}if(!0===o.H5Request){var a="//"+(o.prefix?o.prefix+".":"")+(o.subDomain?o.subDomain+".":"")+o.mainDomain+"/h5/"+n.api.toLowerCase()+"/"+n.v.toLowerCase()+"/",s=n.appKey||("waptest"===o.subDomain?"4272":"12574478"),u=(new Date).getTime(),c=function(e){function t(e,t){return e<<t|e>>>32-t}function n(e,t){var n,o,r,i,a;return r=2147483648&e,i=2147483648&t,a=(1073741823&e)+(1073741823&t),(n=1073741824&e)&(o=1073741824&t)?2147483648^a^r^i:n|o?1073741824&a?3221225472^a^r^i:1073741824^a^r^i:a^r^i}function o(e,o,r,i,a,s,u){return e=n(e,n(n(function(e,t,n){return e&t|~e&n}(o,r,i),a),u)),n(t(e,s),o)}function r(e,o,r,i,a,s,u){return e=n(e,n(n(function(e,t,n){return e&n|t&~n}(o,r,i),a),u)),n(t(e,s),o)}function i(e,o,r,i,a,s,u){return e=n(e,n(n(function(e,t,n){return e^t^n}(o,r,i),a),u)),n(t(e,s),o)}function a(e,o,r,i,a,s,u){return e=n(e,n(n(function(e,t,n){return t^(e|~n)}(o,r,i),a),u)),n(t(e,s),o)}function s(e){var t,n="",o="";for(t=0;3>=t;t++)n+=(o="0"+(e>>>8*t&255).toString(16)).substr(o.length-2,2);return n}var u,c,p,d,l,f,h,m,v,_;for(_=function(e){for(var t,n=e.length,o=n+8,r=16*((o-o%64)/64+1),i=new Array(r-1),a=0,s=0;n>s;)a=s%4*8,i[t=(s-s%4)/4]=i[t]|e.charCodeAt(s)<<a,s++;return a=s%4*8,i[t=(s-s%4)/4]=i[t]|128<<a,i[r-2]=n<<3,i[r-1]=n>>>29,i}(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var o=e.charCodeAt(n);128>o?t+=String.fromCharCode(o):o>127&&2048>o?(t+=String.fromCharCode(o>>6|192),t+=String.fromCharCode(63&o|128)):(t+=String.fromCharCode(o>>12|224),t+=String.fromCharCode(o>>6&63|128),t+=String.fromCharCode(63&o|128))}return t}(e)),f=1732584193,h=4023233417,m=2562383102,v=271733878,u=0;u<_.length;u+=16)c=f,p=h,d=m,l=v,f=o(f,h,m,v,_[u+0],7,3614090360),v=o(v,f,h,m,_[u+1],12,3905402710),m=o(m,v,f,h,_[u+2],17,606105819),h=o(h,m,v,f,_[u+3],22,3250441966),f=o(f,h,m,v,_[u+4],7,4118548399),v=o(v,f,h,m,_[u+5],12,1200080426),m=o(m,v,f,h,_[u+6],17,2821735955),h=o(h,m,v,f,_[u+7],22,4249261313),f=o(f,h,m,v,_[u+8],7,1770035416),v=o(v,f,h,m,_[u+9],12,2336552879),m=o(m,v,f,h,_[u+10],17,4294925233),h=o(h,m,v,f,_[u+11],22,2304563134),f=o(f,h,m,v,_[u+12],7,1804603682),v=o(v,f,h,m,_[u+13],12,4254626195),m=o(m,v,f,h,_[u+14],17,2792965006),f=r(f,h=o(h,m,v,f,_[u+15],22,1236535329),m,v,_[u+1],5,4129170786),v=r(v,f,h,m,_[u+6],9,3225465664),m=r(m,v,f,h,_[u+11],14,643717713),h=r(h,m,v,f,_[u+0],20,3921069994),f=r(f,h,m,v,_[u+5],5,3593408605),v=r(v,f,h,m,_[u+10],9,38016083),m=r(m,v,f,h,_[u+15],14,3634488961),h=r(h,m,v,f,_[u+4],20,3889429448),f=r(f,h,m,v,_[u+9],5,568446438),v=r(v,f,h,m,_[u+14],9,3275163606),m=r(m,v,f,h,_[u+3],14,4107603335),h=r(h,m,v,f,_[u+8],20,1163531501),f=r(f,h,m,v,_[u+13],5,2850285829),v=r(v,f,h,m,_[u+2],9,4243563512),m=r(m,v,f,h,_[u+7],14,1735328473),f=i(f,h=r(h,m,v,f,_[u+12],20,2368359562),m,v,_[u+5],4,4294588738),v=i(v,f,h,m,_[u+8],11,2272392833),m=i(m,v,f,h,_[u+11],16,1839030562),h=i(h,m,v,f,_[u+14],23,4259657740),f=i(f,h,m,v,_[u+1],4,2763975236),v=i(v,f,h,m,_[u+4],11,1272893353),m=i(m,v,f,h,_[u+7],16,4139469664),h=i(h,m,v,f,_[u+10],23,3200236656),f=i(f,h,m,v,_[u+13],4,681279174),v=i(v,f,h,m,_[u+0],11,3936430074),m=i(m,v,f,h,_[u+3],16,3572445317),h=i(h,m,v,f,_[u+6],23,76029189),f=i(f,h,m,v,_[u+9],4,3654602809),v=i(v,f,h,m,_[u+12],11,3873151461),m=i(m,v,f,h,_[u+15],16,530742520),f=a(f,h=i(h,m,v,f,_[u+2],23,3299628645),m,v,_[u+0],6,4096336452),v=a(v,f,h,m,_[u+7],10,1126891415),m=a(m,v,f,h,_[u+14],15,2878612391),h=a(h,m,v,f,_[u+5],21,4237533241),f=a(f,h,m,v,_[u+12],6,1700485571),v=a(v,f,h,m,_[u+3],10,2399980690),m=a(m,v,f,h,_[u+10],15,4293915773),h=a(h,m,v,f,_[u+1],21,2240044497),f=a(f,h,m,v,_[u+8],6,1873313359),v=a(v,f,h,m,_[u+15],10,4264355552),m=a(m,v,f,h,_[u+6],15,2734768916),h=a(h,m,v,f,_[u+13],21,1309151649),f=a(f,h,m,v,_[u+4],6,4149444226),v=a(v,f,h,m,_[u+11],10,3174756917),m=a(m,v,f,h,_[u+2],15,718787259),h=a(h,m,v,f,_[u+9],21,3951481745),f=n(f,c),h=n(h,p),m=n(m,d),v=n(v,l);return(s(f)+s(h)+s(m)+s(v)).toLowerCase()}(o.token+"&"+u+"&"+s+"&"+n.data),p={jsv:"2.7.0",appKey:s,t:u,sign:c},d={data:n.data,ua:n.ua};Object.keys(n).forEach((function(e){void 0===p[e]&&void 0===d[e]&&"headers"!==e&&"ext_headers"!==e&&"ext_querys"!==e&&(p[e]=n[e])})),n.ext_querys&&Object.keys(n.ext_querys).forEach((function(e){p[e]=n.ext_querys[e]})),o.getJSONP?p.type="jsonp":o.getOriginalJSONP?p.type="originaljsonp":(o.getJSON||o.postJSON)&&(p.type="originaljson"),void 0!==n.valueType&&("original"===n.valueType?o.getJSONP||o.getOriginalJSONP?p.type="originaljsonp":(o.getJSON||o.postJSON)&&(p.type="originaljson"):"string"===n.valueType&&(o.getJSONP||o.getOriginalJSONP?p.type="jsonp":(o.getJSON||o.postJSON)&&(p.type="json"))),!0===o.useJsonpResultType&&"originaljson"===p.type&&delete p.type,o.dangerouslySetProtocol&&(a=o.dangerouslySetProtocol+":"+a),"5.0"===n.SV&&(a+="5.0/",i()),o.querystring=p,o.postdata=d,o.path=a}t()},d.prototype.__processUnitPrefix=function(e){e()};var x=0;d.prototype.__requestJSONP=function(e){function t(e){if(p&&clearTimeout(p),d.parentNode&&d.parentNode.removeChild(d),"TIMEOUT"===e)window[c]=function(){window[c]=void 0;try{delete window[c]}catch(e){}};else{window[c]=void 0;try{delete window[c]}catch(e){}}}var o=n(),i=this.params,s=this.options,u=i.timeout||2e4,c="mtopjsonp"+(i.jsonpIncPrefix||"")+ ++x,p=setTimeout((function(){e(s.timeoutErrMsg||"TIMEOUT::接口超时"),t("TIMEOUT")}),u);s.querystring.callback=c;var d=document.createElement("script"),l=s.path+"?"+a(s.querystring)+"&"+a(s.postdata);return"5.0"===i.SV&&window.etSign&&(l+="&bx_et="+window.etSign(l)),d.src=l,d.async=!0,d.onerror=function(){t("ABORT"),e(s.abortErrMsg||"ABORT::接口异常退出")},window[c]=function(){s.results=Array.prototype.slice.call(arguments),t(),o.resolve()},r(d),o.promise},d.prototype.__requestJSON=function(t){function o(e){d&&clearTimeout(d),"TIMEOUT"===e&&c.abort()}var r=n(),i=this.params,s=this.options,c=new e.XMLHttpRequest,p=i.timeout||2e4,d=setTimeout((function(){t(s.timeoutErrMsg||"TIMEOUT::接口超时"),o("TIMEOUT")}),p);s.CDR&&u(w)&&(s.querystring.c=decodeURIComponent(u(w))),c.onreadystatechange=function(){if(4==c.readyState){var e,n,i=c.status;if(i>=200&&300>i||304==i){o(),e=c.responseText,n=c.getAllResponseHeaders()||"";try{(e=/^\s*$/.test(e)?{}:JSON.parse(e)).responseHeaders=n,s.results=[e],r.resolve()}catch(e){t("PARSE_JSON_ERROR::解析JSON失败")}}else o("ABORT"),t(s.abortErrMsg||"ABORT::接口异常退出")}};var l,f,h=s.path+"?"+a(s.querystring);s.getJSON?(l="GET",h+="&"+a(s.postdata)):s.postJSON&&(l="POST",f=a(s.postdata)),"5.0"===i.SV&&window.etSign&&(h+="&bx_et="+window.etSign(h)),c.open(l,h,!0),c.withCredentials=!0,c.setRequestHeader("Accept","application/json"),c.setRequestHeader("Content-type","application/x-www-form-urlencoded");var m=i.ext_headers||i.headers;if(m)for(var v in m)c.setRequestHeader(v,m[v]);return c.send(f),r.promise},d.prototype.__requestWindVane=function(e){function o(e){a.results=[e],r.resolve()}var r=n(),i=this.params,a=this.options,s=i.data,u=i.api,c=i.v,p=a.postJSON?1:0,d=a.getJSON||a.postJSON||a.getOriginalJSONP?"originaljson":"";void 0!==i.valueType&&("original"===i.valueType?d="originaljson":"string"===i.valueType&&(d="")),!0===a.useJsonpResultType&&(d="");var l,f,h="https"===location.protocol?1:0,m=i.isSec||0,v=i.sessionOption||"AutoLoginOnly",_=i.ecode||0,g=i.ext_headers||{},y=i.ext_querys||{};l=2*(f=void 0!==i.timer?parseInt(i.timer):void 0!==i.timeout?parseInt(i.timeout):2e4),!0===i.needLogin&&void 0===i.sessionOption&&(v="AutoLoginAndManualLogin"),void 0!==i.secType&&void 0===i.isSec&&(m=i.secType);var w={api:u,v:c,post:String(p),type:d,isHttps:String(h),ecode:String(_),isSec:String(m),param:JSON.parse(s),timer:f,needLogin:!!i.needLogin,sessionOption:v,ext_headers:g,ext_querys:y};i.ttid&&!0===a.dangerouslySetWVTtid&&(w.ttid=i.ttid),Object.assign&&i.dangerouslySetWindvaneParams&&Object.assign(w,i.dangerouslySetWindvaneParams);var R="MtopWVPlugin";return"string"==typeof i.customWindVaneClassName&&(R=i.customWindVaneClassName),t.windvane.call(R,"send",w,o,o,l),r.promise},d.prototype.__requestAlipay=function(t){var o=n(),r=this.params,i=this.options,a={apiName:r.api,apiVersion:r.v,needEcodeSign:"1"===String(r.ecode),headers:r.ext_headers||{},usePost:!!i.postJSON};s(r.data)||(r.data=JSON.parse(r.data)),a.data=r.data,r.ttid&&!0===i.dangerouslySetWVTtid&&(a.ttid=r.ttid),(i.getJSON||i.postJSON||i.getOriginalJSONP)&&(a.type="originaljson"),void 0!==r.valueType&&("original"===r.valueType?a.type="originaljson":"string"===r.valueType&&delete a.type),!0===i.useJsonpResultType&&delete a.type,Object.assign&&r.dangerouslySetAlipayParams&&Object.assign(a,r.dangerouslySetAlipayParams);var u="mtop";return"string"==typeof r.customAlipayJSBridgeApi&&(u=r.customAlipayJSBridgeApi),e.AlipayJSBridge.call(u,a,(function(e){i.results=[e],o.resolve()})),o.promise},d.prototype.__processRequest=function(e,t){var n=this;return f.then((function(){var e=n.options;if(e.H5Request&&(e.getJSONP||e.getOriginalJSONP))return n.__requestJSONP(t);if(e.H5Request&&(e.getJSON||e.postJSON))return n.__requestJSON(t);if(e.WindVaneRequest)return g?n.__requestAlipay(t):n.__requestWindVane(t);throw new Error("UNEXCEPT_REQUEST::错误的请求类型")})).then(e).then((function(){var e=n.options,t=(n.params,e.results[0]),o=t&&t.ret||[];t.ret=o,o instanceof Array&&(o=o.join(","));var r=t.c;e.CDR&&r&&function(e,t,n){var o=n||{};document.cookie=e.replace(/[^+#$&^`|]/g,encodeURIComponent).replace("(","%28").replace(")","%29")+"="+t.replace(/[^+#$&/:<-\[\]-}]/g,encodeURIComponent)+(o.domain?";domain="+o.domain:"")+(o.path?";path="+o.path:"")+(o.secure?";secure":"")+(o.httponly?";HttpOnly":"")+(o.sameSite?";Samesite="+o.sameSite:"")}(w,r,{domain:e.pageDomain,path:"/",secure:e.secure,sameSite:e.sameSite}),o.indexOf("SUCCESS")>-1?t.retType=v.SUCCESS:t.retType=v.ERROR,e.retJson=t}))},d.prototype.__sequence=function(e){var t=this,o=[],r=[];e.forEach((function e(i){if(i instanceof Array)i.forEach(e);else{var a,s=n(),u=n();o.push((function(){return s=n(),(a=i.call(t,(function(e){return s.resolve(e),u.promise}),(function(e){return s.reject(e),u.promise})))&&(a=a.catch((function(e){s.reject(e)}))),s.promise})),r.push((function(e){return u.resolve(e),a}))}}));for(var i,a=f;i=o.shift();)a=a.then(i);for(;i=r.pop();)a=a.then(i);return a};var S=function(e){if(!h.EtRequest||window.__etReady||h.AliAppName)e();else{i();var t,n,o=!1;window.etReady=function(){window.__etReady=!0,o||(o=!0,e())};var r=function(){t&&clearInterval(t),n&&clearTimeout(n),o||(o=!0,e())};t=setInterval((function(){try{window.etSign&&(window.__etReady=!0,r()),window.etReady&&!window.__etReady&&(window.etReady=function(){window.__etReady=!0,r()})}catch(e){r()}}),100),n=setTimeout((function(){r()}),2e4)}},O=function(e){e()};d.prototype.request=function(n){var r=this;if(this.options=o(n||{},h),!l){var i="当前浏览器不支持Promise，请在windows对象上挂载Promise对象";throw t.mtop={ERROR:i},new Error(i)}var a=l.resolve([S,O]).then((function(e){var t=e[0],n=e[1];return r.__sequence([t,r.__processRequestMethod,r.__processRequestType,r.__processToken,r.__processRequestUrl,r.middlewares,r.__processRequest,n])})).then((function(){var e=r.options.retJson;return e.retType!==v.SUCCESS?l.reject(e):r.options.successCallback?void r.options.successCallback(e):l.resolve(e)})).catch((function(e){var n;return e instanceof Error?(console.error(e.stack),n={ret:[e.message],stack:[e.stack],retJson:v.ERROR}):n="string"==typeof e?{ret:[e],retJson:v.ERROR}:void 0!==e?e:r.options.retJson,t.mtop.errorListener&&t.mtop.errorListener({api:r.params.api,data:r.params.data,v:r.params.v,retJson:n}),r.options.failureCallback?void r.options.failureCallback(n):l.reject(n)}));return this.__processRequestType(),r.options.H5Request&&(r.constructor.__firstProcessor||(r.constructor.__firstProcessor=a),S=function(e){r.constructor.__firstProcessor.then(e).catch(e)}),("get"===this.params.type&&"json"===this.params.dataType||"post"===this.params.type)&&(n.pageDomain=n.pageDomain||function(e){try{return".com"!==e.substring(e.lastIndexOf("."))?(e.split(".")||[]).length<=3?e:e.split(".").slice(1).join("."):e.substring(e.lastIndexOf(".",e.lastIndexOf(".")-1)+1)}catch(t){return e.substring(e.lastIndexOf(".",e.lastIndexOf(".")-1)+1)}}(e.location.hostname),n.mainDomain!==n.pageDomain&&(n.maxRetryTimes=4,n.CDR=!0)),this.__requestProcessor=a,a},t.mtop=function(e){return new d(e)},t.mtop.request=function(e,t,n){var o={H5Request:e.H5Request,WindVaneRequest:e.WindVaneRequest,LoginRequest:e.LoginRequest,AntiCreep:e.AntiCreep,AntiFlood:e.AntiFlood,successCallback:t,failureCallback:n||t};return new d(e).request(o)},t.mtop.H5Request=function(e,t,n){var o={H5Request:!0,successCallback:t,failureCallback:n||t};return new d(e).request(o)},t.mtop.middlewares=m,t.mtop.config=h,t.mtop.RESPONSE_TYPE=v,t.mtop.CLASS=d}(window,window.lib||(window.lib={})),function(e,t){function n(e){return e.preventDefault(),!1}function o(t,o){var r=navigator.userAgent.match(/.*(iPhone|iPad|Android|ios|SymbianOS|Windows Phone).*/i),i=r&&o.h5url?o.h5url:o.url,a=o.dialogSize,s=this,u=e.dpr||1,c=document.createElement("div"),p=document.documentElement.getBoundingClientRect(),d=Math.max(p.width,window.innerWidth)/u,l=window.innerHeight/u;c.style.cssText=["-webkit-transform:scale("+u+") translateZ(0)","-ms-transform:scale("+u+") translateZ(0)","transform:scale("+u+") translateZ(0)","-webkit-transform-origin:0 0","-ms-transform-origin:0 0","transform-origin:0 0","width:"+d+"px","height:"+l+"px","z-index:2147483647","position: fixed","left:0","top:0px","background:"+(d>800?"rgba(0,0,0,.5)":"#FFF"),"display:none"].join(";");var f=document.createElement("div");f.style.cssText=["width:100%","height:52px","background:transparent","line-height:52px","text-align:left","box-sizing:border-box","padding-left:20px","position:absolute","left:0","top:0","font-size:16px","font-weight:bold","color:#333"].join(";"),f.innerText=t;var h=document.createElement("img");h.style.cssText=["display:block","position:absolute","margin-top:15px","right:0","top:0","height:15px","line-height:52px","padding:0 20px","color:#999"].join(";"),h.src="https://gw.alicdn.com/tfs/TB1QZN.CYj1gK0jSZFuXXcrHpXa-200-200.png";var m=document.createElement("iframe");if(m.style.cssText=["width:100%","height:100%","border:0","overflow:hidden"].join(";"),r)f.appendChild(h),c.appendChild(f);else{var v=a&&a.width||"420px",_=a&&a.height||"320px",g=50,y=50,w=24,R=-39;_.indexOf("px")>-1?w-=Number(_.replace("px",""))/2:_.indexOf("%")>-1&&(g-=Number(_.replace("%",""))/2),v.indexOf("px")>-1?R+=Number(v.replace("px",""))/2:v.indexOf("%")>-1&&(y+=Number(v.replace("%",""))/2),h.style.cssText=["position:absolute","width:15px","height:15px","top:"+g+"%","left:"+y+"%","cursor: pointer","border:0","z-index:1","overflow:hidden","margin-top:"+w+"px","margin-left:"+R+"px"].join(";"),c.appendChild(h),m.style.cssText=["position:absolute","top:0px","left:0px","bottom:0px","right:0px","margin:auto","width:"+v,"height:"+_,"border:0","background:#FFF","overflow:hidden","border-radius:18px"].join(";")}c.appendChild(m),c.className="J_MIDDLEWARE_FRAME_WIDGET",document.body.appendChild(c),m.src=i,h.addEventListener("click",(function(){s.hide();var e=document.createEvent("HTMLEvents");e.initEvent("close",!1,!1),c.dispatchEvent(e)}),!1),this.addEventListener=function(){c.addEventListener.apply(c,arguments)},this.removeEventListener=function(){c.removeEventListener.apply(c,arguments)},this.show=function(){document.addEventListener("touchmove",n,!1),c.style.display="block",window.scrollTo(0,0)},this.hide=function(){document.removeEventListener("touchmove",n),window.scrollTo(0,-p.top),c.parentNode&&c.parentNode.removeChild(c)}}if(!t||!t.mtop||t.mtop.ERROR)throw new Error("Mtop 初始化失败！");var r=e.Promise,i=t.mtop.CLASS,a=t.mtop.config,s=t.mtop.RESPONSE_TYPE;t.mtop.middlewares.push((function(e){var n=this,o=this.options,r=this.params;return e().then((function(){var e=o.retJson,i=e.ret,u=navigator.userAgent.toLowerCase(),c=u.indexOf("safari")>-1&&u.indexOf("chrome")<0&&u.indexOf("qqbrowser")<0;if(i instanceof Array&&(i=i.join(",")),(i.indexOf("SESSION_EXPIRED")>-1||i.indexOf("SID_INVALID")>-1||i.indexOf("AUTH_REJECT")>-1||i.indexOf("NEED_LOGIN")>-1)&&(e.retType=s.SESSION_EXPIRED,!o.WindVaneRequest&&(!0===a.LoginRequest||!0===o.LoginRequest||!0===r.needLogin))){if(!t.login)throw new Error("LOGIN_NOT_FOUND::缺少lib.login");if(!0!==o.safariGoLogin||!c||"taobao.com"===o.pageDomain)return t.login.goLoginAsync().then((function(e){return n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest])})).catch((function(e){throw"CANCEL"===e?new Error("LOGIN_CANCEL::用户取消登录"):new Error("LOGIN_FAILURE::用户登录失败")}));t.login.goLogin()}}))})),t.mtop.loginRequest=function(e,t,n){var o={LoginRequest:!0,H5Request:!0,successCallback:t,failureCallback:n||t};return new i(e).request(o)},t.mtop.antiFloodRequest=function(e,t,n){var o={AntiFlood:!0,successCallback:t,failureCallback:n||t};return new i(e).request(o)},t.mtop.middlewares.push((function(e){var t=this.options;return this.params,!0!==t.H5Request||!0!==a.AntiFlood&&!0!==t.AntiFlood?void e():e().then((function(){var e=t.retJson,n=e.ret;n instanceof Array&&(n=n.join(",")),n.indexOf("FAIL_SYS_USER_VALIDATE")>-1&&e.data.url&&(t.AntiFloodReferer?location.href=e.data.url.replace(/(http_referer=).+/,"$1"+t.AntiFloodReferer):location.href=e.data.url)}))})),t.mtop.antiCreepRequest=function(e,t,n){var o={AntiCreep:!0,successCallback:t,failureCallback:n||t};return new i(e).request(o)},t.mtop.middlewares.push((function(t){var n=this,i=this.options,s=this.params;return!1!==i.AntiCreep&&(i.AntiCreep=!0),!0!==s.forceAntiCreep&&!0!==i.H5Request||!0!==a.AntiCreep&&!0!==i.AntiCreep?void t():t().then((function(){var t=i.retJson,a=t.ret;if(a instanceof Array&&(a=a.join(",")),a.indexOf("CHECKJS_FLAG")>-1&&t.uuid&&t.serid){try{var u=!!window.document._sufei_data2,c=new Image,p="https://fourier.taobao.com/ts?ext=200&uuid="+t.uuid+"&serid="+t.serid+"&sufei="+u;window.location&&location.href&&(p+="&href=="+location.href.substr(0,128)),window.__fyModule&&(p+="&fyModuleLoad="+window.__fyModule.load+"&fyModuleInit="+window.__fyModule.init),window.__umModule&&(p+="&umModuleLoad="+window.__umModule.load+"&umModuleInit="+window.__umModule.init),window.__uabModule&&(p+="&uabModuleLoad="+window.__uabModule.load+"&uabModuleInit="+window.__uabModule.init),window.__ncModule&&(p+="&ncModuleLoad="+window.__ncModule.load+"&ncModuleInit="+window.__ncModule.init),window.__nsModule&&(p+="&nsModuleLoad="+window.__nsModule.load+"&nsModuleInit="+window.__nsModule.init),window.__etModule&&(p+="&etModuleLoad="+window.__etModule.load+"&etModuleInit="+window.__etModule.init),c.src=p,document.body.appendChild(c)}catch(e){console.log(e,"上报异常")}return n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest])}if((a.indexOf("RGV587_ERROR::SM")>-1||a.indexOf("ASSIST_FLAG")>-1)&&t.data.url){var d="_m_h5_smt",l=function(e){var t=new RegExp("(?:^|;\\s*)"+e+"\\=([^;]+)(?:;\\s*|$)").exec(document.cookie);return t?t[1]:void 0}(d),f=!1;if(!0===i.saveAntiCreepToken&&l)for(var h in l=JSON.parse(l))s[h]&&(f=!0);if(!0===i.saveAntiCreepToken&&l&&!f){for(var h in l)s[h]=l[h];return n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest])}return new r((function(r,a){function u(){p.removeEventListener("close",u),e.removeEventListener("message",c),a("USER_INPUT_CANCEL::用户取消输入")}function c(t){var o;try{o=JSON.parse(t.data)||{}}catch(e){}if(o&&"child"===o.type){var l;p.removeEventListener("close",u),e.removeEventListener("message",c),p.hide();try{for(var f in"string"==typeof(l=JSON.parse(decodeURIComponent(o.content)))&&(l=JSON.parse(l)),l)s[f]=l[f];!0===i.saveAntiCreepToken?(document.cookie=d+"="+JSON.stringify(l)+";",e.location.reload()):n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest]).then(r)}catch(e){a("USER_INPUT_FAILURE::用户输入失败")}}}var p=new o("",t.data);p.addEventListener("close",u,!1),e.addEventListener("message",c,!1),p.show()}))}}))}))}(window,window.lib||(window.lib={})),e.exports=window.lib.mtop}}]);